!function(e){function t(n){if(o[n])return o[n].exports;var r=o[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n=window.webpackJsonp;window.webpackJsonp=function(o,a){for(var s,i,c=0,u=[];c<o.length;c++)i=o[c],r[i]&&u.push.apply(u,r[i]),r[i]=0;for(s in a)Object.prototype.hasOwnProperty.call(a,s)&&(e[s]=a[s]);for(n&&n(o,a);u.length;)u.shift().call(null,t)};var o={},r={1:0};return t.e=function(e,n){if(0===r[e])return n.call(null,t);if(void 0!==r[e])r[e].push(n);else{r[e]=[n];var o=document.getElementsByTagName("head")[0],a=document.createElement("script");a.type="text/javascript",a.charset="utf-8",a.async=!0,a.src=t.p+"./build/"+e+".js",o.appendChild(a)}},t.m=e,t.c=o,t.p="",t(0)}([function(e,t,n){n.e(0,function(e){var t=[e(68),e(53),e(57),e(43),e(5),e(78),e(60),e(81),e(1),e(44),e(45),e(21)];(function(e,t,n,o,r,a,s,i,c,u,l,d){e(function(){var e=new n,a=new t(document.body),i=new o(document.body),p=(new l(document.body,a,i),window.location.hash.substr(1));console.log(p);var f=new XMLHttpRequest;f.open("GET",p),f.responseType="blob",f.onreadystatechange=function(){if(4===f.readyState){if(200===f.status){var t=new FileReader;t.readAsBinaryString(f.response),t.onloadend=function(){for(var e=d.parse(t.result),n=0;n<e.tracks.length;n++)e.tracks[n].notes=e.tracks[n].notes.map(function(e){return e.track=n,e});e.notes=[].concat.apply([],e.tracks.map(function(e){return e.notes})),e.header.tempo=e.header.bpm;for(var o=e.notes[0].time,r=0;r<e.notes.length;r++)o=Math.min(o,e.notes[r].time);for(var r=0;r<e.notes.length;r++){var s=e.notes[r].time-o,i=e.notes[r].duration;e.notes[r].time=Math.floor(100*s)+"i",e.notes[r].duration=Math.floor(100*i)+"i",e.notes[r].midiNote=e.notes[r].midi,e.notes[r].note=e.notes[r].name}a.setScore(e)}}else console.log("Error: "+f.status);i.onInstrument(function(t){e.setInstrument(t)}),i.onPlay(function(t){t?a.start():(a.stop(),e.releaseAll())}),i.onScore(function(e){a.setScore(e)}),i.onJump(function(e){a.jump(e)});var n=!1;i.onRecord(function(e){e?(n="started"===r.state,a.stop()):n&&(n=!1,a.start())}),i.onBuffer(function(t,n,o){e.setBuffer(t,n,o)}),a.onnote=function(t,n,o,r){e.triggerAttackRelease(t,n,o,r)},a.onstop=function(){e.releaseAll()};new u(function(){r.stop(),a.stop(),i.stop()});window.parent.postMessage("loaded","*");var o=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(o){var l=document.createElement("div");l.id="iOSTap",document.body.appendChild(l),new s(c.context,l).then(function(){l.remove(),window.parent.postMessage("ready","*")})}else window.parent.postMessage("ready","*")}}.bind(this),f.send(null)})}).apply(null,t)})}]);
